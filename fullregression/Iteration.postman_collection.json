{
	"info": {
		"_postman_id": "fef95d8b-73ad-4163-9995-5641bca26343",
		"name": "Iteration",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "createUserForOrg copy",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "4b6cce62-bc44-4278-8abb-298dac4160a0",
						"type": "text/javascript",
						"exec": [
							"var compareResponse = function(expectedObject, responseOject) {",
							"    var deepDiff = eval('(' + environment.deepDiffMapper + '()' + ')');",
							"    var dottedRes = deepDiff.diff(expectedObject, responseOject);",
							"    return dottedRes;",
							"}",
							"",
							"var nominalTestTypeCheck = function() {",
							"    if (pm.environment.get(\"testType\") == \"Nominal\") {",
							"        pm.environment.set(\"organizationId\", resBody.organizationId);",
							"        pm.environment.set(\"ownerId\", resBody.userId);",
							"    }",
							"}",
							"",
							"var testSpecificCallbacks = function() {",
							"    for(var i = 0; i < arguments.length; i++){",
							"        arguments[i].apply(); ",
							"    }",
							"}",
							"",
							"var doAssertionChecking = function() {",
							"    console.log(testFirstNameIteration);",
							"    var iterationPayload = JSON.parse(postman.getEnvironmentVariable(\"currentNameIteration\"));",
							"",
							"    if (iterationPayload.statusCode == 201) {",
							"        var resBody = JSON.parse(responseBody);",
							"",
							"        var compareResult = compareResponse(iterationPayload.data, resBody);",
							"        for (var i = 0; i < compareResult.added.length; i++) {",
							"            tests[\"Response Body has Added :\" + compareResult.added[i].field + \" : \" + compareResult.added[i].data] = 1;",
							"        }",
							"",
							"        for (var i = 0; i < compareResult.changed.length; i++) {",
							"            tests[\"Response Body has Changed :\" + compareResult.changed[i].field + \" : \" + compareResult.changed[i].data] = 0;",
							"        }",
							"",
							"        testSpecificCallbacks(nominalTestTypeCheck);",
							"    }",
							"}",
							"",
							"var testFirstNameIteration = pm.environment.get(\"testFirstNameIteration\");",
							"if (testFirstNameIteration.length > 0) {",
							"    doAssertionChecking();",
							"    postman.setNextRequest(\"createUserForOrg copy\");",
							"} else {",
							"    doAssertionChecking();",
							"    pm.environment.unset(\"testFirstNameIteration\");",
							"    pm.environment.unset(\"currentNameIteration\");",
							"    postman.setNextRequest(null);",
							"}"
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "a359cc20-4b88-442e-8979-1a32c5d2c024",
						"type": "text/javascript",
						"exec": [
							"",
							"var testFirstNameIteration=pm.environment.get(\"testFirstNameIteration\");",
							"var emailId=pm.environment.get(\"emailId\");",
							"",
							"var nominalUserData={",
							"  \"firstName\" : \"Michael\",",
							"  \"lastName\" : \"Test_Surname\",",
							"  \"password\" : \"Password1\",",
							"  \"phone\" : {",
							"    \"number\" : \"1234567890\",",
							"    \"extension\" : \"12345\"",
							"  },",
							"  \"birthDate\" : \"1998-01-27\",",
							"  \"email\" : \"TestUser@abc.com\"",
							"};",
							"",
							"var maxUserData={",
							"  \"firstName\" : \"First name of employee for maximum characters Firs\",",
							"  \"lastName\" : \"Last name of employee for maximum characters Last Last name of employee for maximum characters  Last\",",
							"  \"password\" : \"Password2\",",
							"  \"phone\" : {",
							"    \"number\" : \"123456789011123\",",
							"    \"extension\" : \"1234567890\"",
							"  },",
							"  \"birthDate\" : \"1998-01-27\",",
							"  \"email\" :  \"emailllll@shilpi.com\"",
							"};",
							"",
							"var minUserData={",
							"  \"firstName\" : \"T\",",
							"  \"lastName\" : \"e\",",
							"  \"password\" : \"Password3\",",
							"  \"phone\" : {",
							"    \"number\" : \"1234567890\",",
							"    \"extension\" : \"12345\"",
							"  },",
							"  \"birthDate\" : \"1998-01-27\",",
							"  \"email\" : \"T@a.com\"",
							"};",
							"",
							"var allFieldsUserData={",
							"  \"firstName\" : \"Thomas\",",
							"  \"lastName\" : \"Test_Surname\",",
							"  \"password\" : \"Password3\",",
							"   \"address\" : {",
							"    \"address1\" : \"10 Lane\",",
							"    \"address2\" : \"Little Avenue\",",
							"    \"city\" : \"Little Rock\",",
							"    \"state\" : \"Arkansas\",",
							"    \"country\" : \"United States\",",
							"    \"zipCode\" : \"70002\"",
							"  },",
							"  \"phone\" : {",
							"    \"number\" : \"1234567890\",",
							"    \"extension\" : \"12345\"",
							"  },",
							"  \"birthDate\" : \"1998-01-27\",",
							"  \"email\" : \"TestUser@abc.com\"",
							"};",
							"",
							"console.log(JSON.stringify(request));",
							"if(!testFirstNameIteration) {",
							"    ",
							"    testFirstNameIteration =  [",
							"        {data: nominalUserData,statusCode :201 , type : \"Nominal\"},",
							"        {data: maxUserData,statusCode: 201, type: \"Max\"},",
							"        {data: minUserData,statusCode :201 , type : \"Min\"},",
							"        {data: allFieldsUserData,statusCode: 201 , type: \"allFields\"}];",
							"}",
							"",
							"var currentNameIteration =testFirstNameIteration.shift();",
							"// console.log(currentNameIteration.data);",
							"pm.environment.set(\"testFirstNameIteration\", testFirstNameIteration);",
							"pm.environment.set(\"currentNameIteration\", JSON.stringify(currentNameIteration));",
							"pm.environment.set(\"currentNameIterationData\", JSON.stringify(currentNameIteration.data));",
							""
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{{currentNameIterationData}}\n"
				},
				"url": {
					"raw": "https://qa.greatestclubmanagementsoftwareever.com/registration/user",
					"protocol": "https",
					"host": [
						"qa",
						"greatestclubmanagementsoftwareever",
						"com"
					],
					"path": [
						"registration",
						"user"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "9cd8682d-f1dd-4219-a029-da3a5f46044d",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "eb8482b9-9918-4077-9e72-95d3795341be",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}