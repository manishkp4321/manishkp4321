{
	"info": {
		"_postman_id": "3f967a91-a156-47e4-be4c-6743dc6381cc",
		"name": "Payment Gateway",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Login",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "ac59a76d-73e6-4dd3-b244-71395a7e94ef",
						"exec": [
							"",
							"/*var jsonData = JSON.parse(responseBody);",
							"    postman.setEnvironmentVariable(\"access_token\", jsonData.access_token);",
							"    var jsonData = JSON.parse(responseBody);",
							"    postman.setEnvironmentVariable(\"authId\", jsonData.access_token);*/",
							"",
							"if (responseCode.code != 200)",
							"{",
							"   tests[\"[INFO]  Request Body: \" + JSON.stringify(request)] = true;",
							"   tests[\"[INFO] Response Body: \" + responseBody] = true;",
							"}",
							"",
							"else if (responseCode.code === 200)",
							"{",
							"   var jsonData = JSON.parse(responseBody);",
							"   postman.setEnvironmentVariable(\"authId\", jsonData.access_token);",
							"",
							"   tests[\"Response Body has Correct Token Type\"] = responseBody.has(\"\\\"token_type\\\":\\\"bearer\\\"\");",
							"   tests[\"Response Body has Access Token\"] = responseBody.has(\"\\\"access_token\\\":\"+\"\\\"\"+postman.getEnvironmentVariable(\"authId\")+\"\\\"\");",
							"   tests[\"Response Body has Expiration Field\"] = responseBody.has(\"expires_in\");",
							"   tests[\"Response Body has Correct Scope\"] = responseBody.has(\"\\\"scope\\\":\"+\"\\\"\"+jsonData.scope+\"\\\"\");",
							"}",
							"",
							"tests[\"Response code should be 200\"] = responseCode.code === 200;"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "2dc7e010-cc77-4026-a19d-ba6c9a86ec3a",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Basic QVVUT01BVEVEX1RFU1RJTkc6dDNzdEBsbHRoM3RoMW5ncw=="
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://qa.30preprod.com/api-deprecated/authorization/token?client_id=AUTOMATED_TESTING&grant_type=client_credentials",
					"protocol": "https",
					"host": [
						"qa",
						"30preprod",
						"com"
					],
					"path": [
						"api-deprecated",
						"authorization",
						"token"
					],
					"query": [
						{
							"key": "client_id",
							"value": "AUTOMATED_TESTING"
						},
						{
							"key": "grant_type",
							"value": "client_credentials"
						}
					]
				}
			},
			"response": [
				{
					"name": "Response_200",
					"originalRequest": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"type": "any"
								},
								{
									"key": "password",
									"type": "any"
								},
								{
									"key": "saveHelperData",
									"type": "any"
								},
								{
									"key": "showPassword",
									"value": false,
									"type": "boolean"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "multipart/form-data"
							},
							{
								"key": "Accept",
								"value": "*/*"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "username",
									"value": "{{username}}",
									"type": "text"
								},
								{
									"key": "password",
									"value": "{{password}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{authorization_server}}/token?client_id=AUTOMATED_TESTING&grant_type=password",
							"host": [
								"{{authorization_server}}"
							],
							"path": [
								"token"
							],
							"query": [
								{
									"key": "client_id",
									"value": "AUTOMATED_TESTING"
								},
								{
									"key": "grant_type",
									"value": "password"
								}
							]
						}
					},
					"code": 200,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Processor",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2e57cb7d-fab8-4e44-8515-87a50c27b10e",
						"exec": [
							"/*var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"processor_id\", jsonData.id);*/",
							"",
							"if (responseCode.code != 200)",
							"{",
							"   tests[\"[INFO]  Request Body: \" + JSON.stringify(request)] = true;",
							"   tests[\"[INFO] Response Body: \" + responseBody] = true;",
							"}",
							"",
							"else if (responseCode.code === 200)",
							"{",
							"   var jsonData = JSON.parse(responseBody);",
							"   postman.setEnvironmentVariable(\"processor_id\", jsonData.id);",
							"",
							"   ",
							"   ",
							"   tests[\"Response Body has Name\"] = responseBody.has(\"name\");",
							" ",
							"}",
							"",
							"tests[\"Response code should be 200\"] = responseCode.code === 200;"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{authId}}"
					},
					{
						"key": "Accept",
						"value": "*/*"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{payment_gateway_server}}/processors",
					"host": [
						"{{payment_gateway_server}}"
					],
					"path": [
						"processors"
					]
				}
			},
			"response": [
				{
					"name": "Response_200",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Accept",
								"value": "*/*"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{payment_gateway_server}}/processors",
							"host": [
								"{{payment_gateway_server}}"
							],
							"path": [
								"processors"
							]
						}
					},
					"code": 200,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Get Companies",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "dc0aae57-2906-4d1e-914b-1197d0b52392",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"processor_id\", jsonData.id);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{authId}}"
					},
					{
						"key": "Accept",
						"value": "*/*"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{payment_gateway_server}}/companies",
					"host": [
						"{{payment_gateway_server}}"
					],
					"path": [
						"companies"
					]
				}
			},
			"response": [
				{
					"name": "Response_200",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Accept",
								"value": "*/*"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{payment_gateway_server}}/processors",
							"host": [
								"{{payment_gateway_server}}"
							],
							"path": [
								"processors"
							]
						}
					},
					"code": 200,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Merchatns",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{authId}}"
					},
					{
						"key": "Accept",
						"value": "*/*"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{payment_gateway_server}}/merchant",
					"host": [
						"{{payment_gateway_server}}"
					],
					"path": [
						"merchant"
					]
				}
			},
			"response": [
				{
					"name": "Response_200",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Accept",
								"value": "*/*"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{payment_gateway_server}}/processors",
							"host": [
								"{{payment_gateway_server}}"
							],
							"path": [
								"processors"
							]
						}
					},
					"code": 200,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		}
	]
}